"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pusher/route";
exports.ids = ["app/api/pusher/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pusher/route.ts */ \"(rsc)/./app/api/pusher/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pusher/route\",\n        pathname: \"/api/pusher\",\n        filename: \"route\",\n        bundlePath: \"app/api/pusher/route\"\n    },\n    resolvedPagePath: \"/Users/alexlautin/Documents/GitHub/emoryhacks25/app/api/pusher/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/pusher/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwdXNoZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnB1c2hlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnB1c2hlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXhsYXV0aW4lMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZlbW9yeWhhY2tzMjUlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYWxleGxhdXRpbiUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRmVtb3J5aGFja3MyNSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbGxlcnlib2FyZC8/YjViNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWxleGxhdXRpbi9Eb2N1bWVudHMvR2l0SHViL2Vtb3J5aGFja3MyNS9hcHAvYXBpL3B1c2hlci9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHVzaGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHVzaGVyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wdXNoZXIvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYWxleGxhdXRpbi9Eb2N1bWVudHMvR2l0SHViL2Vtb3J5aGFja3MyNS9hcHAvYXBpL3B1c2hlci9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wdXNoZXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pusher/route.ts":
/*!*********************************!*\
  !*** ./app/api/pusher/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_pusher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/pusher */ \"(rsc)/./lib/pusher.ts\");\n\n\nconst classrooms = new Map();\nfunction generateClassCode() {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n}\nasync function POST(req) {\n    try {\n        // Log request for debugging\n        console.log(\"Pusher API request received\");\n        const body = await req.json();\n        const { type, ...data } = body;\n        console.log(\"Event type:\", type, \"Data:\", data);\n        switch(type){\n            case \"create-classroom\":\n                {\n                    const { teacherId } = data;\n                    let classCode;\n                    do {\n                        classCode = generateClassCode();\n                    }while (classrooms.has(classCode));\n                    classrooms.set(classCode, {\n                        teacherId,\n                        students: new Map()\n                    });\n                    console.log(`Creating classroom ${classCode} for teacher ${teacherId}`);\n                    try {\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"classroom-created\", {\n                            classCode,\n                            teacherId\n                        });\n                        console.log(\"Classroom created event sent successfully\");\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher event:\", error);\n                        throw error;\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        classCode\n                    });\n                }\n            case \"join-classroom\":\n                {\n                    const { classCode, studentId, displayName } = data;\n                    const classroom = classrooms.get(classCode);\n                    if (!classroom) {\n                        console.log(`Classroom ${classCode} not found`);\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            error: \"Classroom not found\"\n                        }, {\n                            status: 404\n                        });\n                    }\n                    classroom.students.set(studentId, {\n                        displayName\n                    });\n                    console.log(`Student ${studentId} (${displayName}) joining classroom ${classCode}`);\n                    try {\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-joined\", {\n                            studentId,\n                            displayName,\n                            students: Array.from(classroom.students.entries()).map(([id, data])=>({\n                                    id,\n                                    displayName: data.displayName\n                                }))\n                        });\n                        console.log(\"Student joined event sent successfully\");\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher event:\", error);\n                        throw error;\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                }\n            case \"draw-update\":\n                {\n                    const { classCode, studentId, drawData, canvasState } = data;\n                    console.log(`Draw update from student ${studentId} in classroom ${classCode}`);\n                    try {\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"draw-update\", {\n                            studentId,\n                            drawData,\n                            canvasState\n                        });\n                        console.log(\"Draw update event sent successfully\");\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher event:\", error);\n                        throw error;\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                }\n            case \"leave-classroom\":\n                {\n                    const { classCode, studentId } = data;\n                    const classroom = classrooms.get(classCode);\n                    if (classroom) {\n                        classroom.students.delete(studentId);\n                        console.log(`Student ${studentId} leaving classroom ${classCode}`);\n                        try {\n                            await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-left\", {\n                                students: Array.from(classroom.students.entries()).map(([id, data])=>({\n                                        id,\n                                        displayName: data.displayName\n                                    }))\n                            });\n                            console.log(\"Student left event sent successfully\");\n                        } catch (error) {\n                            console.error(\"Error triggering Pusher event:\", error);\n                            throw error;\n                        }\n                        if (classroom.students.size === 0 && classroom.teacherId === studentId) {\n                            classrooms.delete(classCode);\n                            console.log(`Classroom ${classCode} deleted`);\n                        }\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                }\n            default:\n                console.log(\"Invalid event type:\", type);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid event type\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Pusher API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxVQUFVTCxRQUFRLENBQUNpQixJQUFJLEtBQUssS0FBS1osVUFBVVQsU0FBUyxLQUFLTyxXQUFXOzRCQUN0RXZCLFdBQVdvQyxNQUFNLENBQUNuQjs0QkFDbEJQLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRU0sVUFBVSxRQUFRLENBQUM7d0JBQzlDO29CQUNGO29CQUVBLE9BQU9uQixxREFBWUEsQ0FBQ2UsSUFBSSxDQUFDO3dCQUFFb0IsU0FBUztvQkFBSztnQkFDM0M7WUFFQTtnQkFDRXZCLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJHO2dCQUNuQyxPQUFPaEIscURBQVlBLENBQUNlLElBQUksQ0FBQztvQkFBRVMsT0FBTztnQkFBcUIsR0FBRztvQkFBRUssUUFBUTtnQkFBSTtRQUM1RTtJQUNGLEVBQUUsT0FBT0wsT0FBTztRQUNkWixRQUFRWSxLQUFLLENBQUMscUJBQXFCQTtRQUNuQyxPQUFPeEIscURBQVlBLENBQUNlLElBQUksQ0FDdEI7WUFBRVMsT0FBTztZQUF5QmdCLFNBQVNoQixpQkFBaUJpQixRQUFRakIsTUFBTWtCLE9BQU8sR0FBRztRQUFnQixHQUNwRztZQUFFYixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbGxlcnlib2FyZC8uL2FwcC9hcGkvcHVzaGVyL3JvdXRlLnRzPzM0NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgcHVzaGVyU2VydmVyIH0gZnJvbSAnQC9saWIvcHVzaGVyJztcblxuY29uc3QgY2xhc3Nyb29tcyA9IG5ldyBNYXA8c3RyaW5nLCB7XG4gIHRlYWNoZXJJZDogc3RyaW5nO1xuICBzdHVkZW50czogTWFwPHN0cmluZywgeyBkaXNwbGF5TmFtZTogc3RyaW5nIH0+O1xufT4oKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVDbGFzc0NvZGUoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCkudG9VcHBlckNhc2UoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gTG9nIHJlcXVlc3QgZm9yIGRlYnVnZ2luZ1xuICAgIGNvbnNvbGUubG9nKCdQdXNoZXIgQVBJIHJlcXVlc3QgcmVjZWl2ZWQnKTtcblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IHsgdHlwZSwgLi4uZGF0YSB9ID0gYm9keTtcblxuICAgIGNvbnNvbGUubG9nKCdFdmVudCB0eXBlOicsIHR5cGUsICdEYXRhOicsIGRhdGEpO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdjcmVhdGUtY2xhc3Nyb29tJzoge1xuICAgICAgICBjb25zdCB7IHRlYWNoZXJJZCB9ID0gZGF0YTtcbiAgICAgICAgbGV0IGNsYXNzQ29kZTogc3RyaW5nO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgY2xhc3NDb2RlID0gZ2VuZXJhdGVDbGFzc0NvZGUoKTtcbiAgICAgICAgfSB3aGlsZSAoY2xhc3Nyb29tcy5oYXMoY2xhc3NDb2RlKSk7XG5cbiAgICAgICAgY2xhc3Nyb29tcy5zZXQoY2xhc3NDb2RlLCB7XG4gICAgICAgICAgdGVhY2hlcklkLFxuICAgICAgICAgIHN0dWRlbnRzOiBuZXcgTWFwKClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIGNsYXNzcm9vbSAke2NsYXNzQ29kZX0gZm9yIHRlYWNoZXIgJHt0ZWFjaGVySWR9YCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICdjbGFzc3Jvb20tY3JlYXRlZCcsIHtcbiAgICAgICAgICAgIGNsYXNzQ29kZSxcbiAgICAgICAgICAgIHRlYWNoZXJJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGFzc3Jvb20gY3JlYXRlZCBldmVudCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRyaWdnZXJpbmcgUHVzaGVyIGV2ZW50OicsIGVycm9yKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNsYXNzQ29kZSB9KTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnam9pbi1jbGFzc3Jvb20nOiB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3NDb2RlLCBzdHVkZW50SWQsIGRpc3BsYXlOYW1lIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBjbGFzc3Jvb20gPSBjbGFzc3Jvb21zLmdldChjbGFzc0NvZGUpO1xuXG4gICAgICAgIGlmICghY2xhc3Nyb29tKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYENsYXNzcm9vbSAke2NsYXNzQ29kZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDbGFzc3Jvb20gbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xhc3Nyb29tLnN0dWRlbnRzLnNldChzdHVkZW50SWQsIHsgZGlzcGxheU5hbWUgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTdHVkZW50ICR7c3R1ZGVudElkfSAoJHtkaXNwbGF5TmFtZX0pIGpvaW5pbmcgY2xhc3Nyb29tICR7Y2xhc3NDb2RlfWApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnc3R1ZGVudC1qb2luZWQnLCB7XG4gICAgICAgICAgICBzdHVkZW50SWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHN0dWRlbnRzOiBBcnJheS5mcm9tKGNsYXNzcm9vbS5zdHVkZW50cy5lbnRyaWVzKCkpLm1hcCgoW2lkLCBkYXRhXSkgPT4gKHtcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3R1ZGVudCBqb2luZWQgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudDonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkcmF3LXVwZGF0ZSc6IHtcbiAgICAgICAgY29uc3QgeyBjbGFzc0NvZGUsIHN0dWRlbnRJZCwgZHJhd0RhdGEsIGNhbnZhc1N0YXRlIH0gPSBkYXRhO1xuICAgICAgICBjb25zb2xlLmxvZyhgRHJhdyB1cGRhdGUgZnJvbSBzdHVkZW50ICR7c3R1ZGVudElkfSBpbiBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9YCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICdkcmF3LXVwZGF0ZScsIHtcbiAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgIGRyYXdEYXRhLFxuICAgICAgICAgICAgY2FudmFzU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRHJhdyB1cGRhdGUgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudDonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdsZWF2ZS1jbGFzc3Jvb20nOiB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3NDb2RlLCBzdHVkZW50SWQgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNsYXNzcm9vbSA9IGNsYXNzcm9vbXMuZ2V0KGNsYXNzQ29kZSk7XG5cbiAgICAgICAgaWYgKGNsYXNzcm9vbSkge1xuICAgICAgICAgIGNsYXNzcm9vbS5zdHVkZW50cy5kZWxldGUoc3R1ZGVudElkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3R1ZGVudCAke3N0dWRlbnRJZH0gbGVhdmluZyBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9YCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnc3R1ZGVudC1sZWZ0Jywge1xuICAgICAgICAgICAgICBzdHVkZW50czogQXJyYXkuZnJvbShjbGFzc3Jvb20uc3R1ZGVudHMuZW50cmllcygpKS5tYXAoKFtpZCwgZGF0YV0pID0+ICh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWVcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHVkZW50IGxlZnQgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdHJpZ2dlcmluZyBQdXNoZXIgZXZlbnQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNsYXNzcm9vbS5zdHVkZW50cy5zaXplID09PSAwICYmIGNsYXNzcm9vbS50ZWFjaGVySWQgPT09IHN0dWRlbnRJZCkge1xuICAgICAgICAgICAgY2xhc3Nyb29tcy5kZWxldGUoY2xhc3NDb2RlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGFzc3Jvb20gJHtjbGFzc0NvZGV9IGRlbGV0ZWRgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBldmVudCB0eXBlOicsIHR5cGUpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZXZlbnQgdHlwZScgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHVzaGVyIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwdXNoZXJTZXJ2ZXIiLCJjbGFzc3Jvb21zIiwiTWFwIiwiZ2VuZXJhdGVDbGFzc0NvZGUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsIlBPU1QiLCJyZXEiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImpzb24iLCJ0eXBlIiwiZGF0YSIsInRlYWNoZXJJZCIsImNsYXNzQ29kZSIsImhhcyIsInNldCIsInN0dWRlbnRzIiwidHJpZ2dlciIsImVycm9yIiwic3R1ZGVudElkIiwiZGlzcGxheU5hbWUiLCJjbGFzc3Jvb20iLCJnZXQiLCJzdGF0dXMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwibWFwIiwiaWQiLCJzdWNjZXNzIiwiZHJhd0RhdGEiLCJjYW52YXNTdGF0ZSIsImRlbGV0ZSIsInNpemUiLCJkZXRhaWxzIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pusher/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/pusher.ts":
/*!***********************!*\
  !*** ./lib/pusher.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pusherClient: () => (/* binding */ pusherClient),\n/* harmony export */   pusherServer: () => (/* binding */ pusherServer)\n/* harmony export */ });\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pusher */ \"(rsc)/./node_modules/pusher/lib/pusher.js\");\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pusher__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pusher-js */ \"(rsc)/./node_modules/pusher-js/dist/node/pusher.js\");\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pusher_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst pusherServer = new (pusher__WEBPACK_IMPORTED_MODULE_0___default())({\n    appId: \"1962551\",\n    key: \"0a97d4aa577b7a7831d5\",\n    secret: process.env.PUSHER_SECRET,\n    cluster: \"us2\",\n    useTLS: true\n});\n// Enable Pusher logging for debugging\nif (false) {}\nconst pusherClient = new (pusher_js__WEBPACK_IMPORTED_MODULE_1___default())(\"0a97d4aa577b7a7831d5\", {\n    cluster: \"us2\",\n    forceTLS: true\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHVzaGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQztBQUNHO0FBRTlCLE1BQU1FLGVBQWUsSUFBSUYsK0NBQVlBLENBQUM7SUFDM0NHLE9BQU9DLFNBQXFDO0lBQzVDRyxLQUFLSCxzQkFBa0M7SUFDdkNLLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ0ssYUFBYTtJQUNqQ0MsU0FBU1AsS0FBc0M7SUFDL0NTLFFBQVE7QUFDVixHQUFHO0FBRUgsc0NBQXNDO0FBQ3RDLElBQUksS0FBa0IsRUFBYSxFQUVsQztBQUVNLE1BQU1FLGVBQWUsSUFBSWQsa0RBQVlBLENBQzFDRyxzQkFBa0MsRUFDbEM7SUFDRU8sU0FBU1AsS0FBc0M7SUFDL0NZLFVBQVU7QUFDWixHQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsbGVyeWJvYXJkLy4vbGliL3B1c2hlci50cz85MDMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQdXNoZXJTZXJ2ZXIgZnJvbSAncHVzaGVyJztcbmltcG9ydCBQdXNoZXJDbGllbnQgZnJvbSAncHVzaGVyLWpzJztcblxuZXhwb3J0IGNvbnN0IHB1c2hlclNlcnZlciA9IG5ldyBQdXNoZXJTZXJ2ZXIoe1xuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0FQUF9JRCEsXG4gIGtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0tFWSEsXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuUFVTSEVSX1NFQ1JFVCEsXG4gIGNsdXN0ZXI6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9DTFVTVEVSISxcbiAgdXNlVExTOiB0cnVlLFxufSk7XG5cbi8vIEVuYWJsZSBQdXNoZXIgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgUHVzaGVyQ2xpZW50LmxvZ1RvQ29uc29sZSA9IHRydWU7XG59XG5cbmV4cG9ydCBjb25zdCBwdXNoZXJDbGllbnQgPSBuZXcgUHVzaGVyQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVVNIRVJfS0VZISxcbiAge1xuICAgIGNsdXN0ZXI6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9DTFVTVEVSISxcbiAgICBmb3JjZVRMUzogdHJ1ZSxcbiAgfVxuKTsgIl0sIm5hbWVzIjpbIlB1c2hlclNlcnZlciIsIlB1c2hlckNsaWVudCIsInB1c2hlclNlcnZlciIsImFwcElkIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1BVU0hFUl9BUFBfSUQiLCJrZXkiLCJORVhUX1BVQkxJQ19QVVNIRVJfS0VZIiwic2VjcmV0IiwiUFVTSEVSX1NFQ1JFVCIsImNsdXN0ZXIiLCJORVhUX1BVQkxJQ19QVVNIRVJfQ0xVU1RFUiIsInVzZVRMUyIsImxvZ1RvQ29uc29sZSIsInB1c2hlckNsaWVudCIsImZvcmNlVExTIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/pusher.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/pusher-js","vendor-chunks/tr46","vendor-chunks/tweetnacl","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/pusher","vendor-chunks/event-target-shim","vendor-chunks/webidl-conversions","vendor-chunks/abort-controller","vendor-chunks/tweetnacl-util","vendor-chunks/is-base64"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();