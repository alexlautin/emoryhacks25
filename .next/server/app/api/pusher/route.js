"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pusher/route";
exports.ids = ["app/api/pusher/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pusher/route.ts */ \"(rsc)/./app/api/pusher/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pusher/route\",\n        pathname: \"/api/pusher\",\n        filename: \"route\",\n        bundlePath: \"app/api/pusher/route\"\n    },\n    resolvedPagePath: \"/Users/alexlautin/Documents/GitHub/emoryhacks25/app/api/pusher/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/pusher/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwdXNoZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnB1c2hlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnB1c2hlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXhsYXV0aW4lMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZlbW9yeWhhY2tzMjUlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYWxleGxhdXRpbiUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRmVtb3J5aGFja3MyNSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDdUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYWxsZXJ5Ym9hcmQvPzAwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2FsZXhsYXV0aW4vRG9jdW1lbnRzL0dpdEh1Yi9lbW9yeWhhY2tzMjUvYXBwL2FwaS9wdXNoZXIvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wdXNoZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wdXNoZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3B1c2hlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9hbGV4bGF1dGluL0RvY3VtZW50cy9HaXRIdWIvZW1vcnloYWNrczI1L2FwcC9hcGkvcHVzaGVyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3B1c2hlci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pusher/route.ts":
/*!*********************************!*\
  !*** ./app/api/pusher/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_pusher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/pusher */ \"(rsc)/./lib/pusher.ts\");\n\n\nconst classrooms = new Map();\nfunction generateClassCode() {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { type, classCode, studentId, drawData, canvasState } = body;\n        console.log(\"Pusher API request received\");\n        console.log(\"Event type:\", type);\n        console.log(\"Data:\", JSON.stringify(body, null, 2));\n        if (type !== \"create-classroom\" && !classCode) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Class code is required\"\n            }, {\n                status: 400\n            });\n        }\n        const eventData = {\n            classCode,\n            studentId,\n            drawData,\n            canvasState\n        };\n        switch(type){\n            case \"create-classroom\":\n                {\n                    const { teacherId } = body;\n                    let classCode;\n                    do {\n                        classCode = generateClassCode();\n                    }while (classrooms.has(classCode));\n                    classrooms.set(classCode, {\n                        teacherId,\n                        students: new Map()\n                    });\n                    console.log(`Creating classroom ${classCode} for teacher ${teacherId}`);\n                    try {\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"classroom-created\", {\n                            classCode,\n                            teacherId\n                        });\n                        console.log(\"Classroom created event sent successfully\");\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher event:\", error);\n                        throw error;\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        classCode\n                    });\n                }\n            case \"join-classroom\":\n                {\n                    const { displayName } = body;\n                    const classroom = classrooms.get(classCode);\n                    console.log(\"Processing join-classroom request:\", {\n                        classCode,\n                        studentId,\n                        displayName,\n                        classroomExists: !!classroom,\n                        currentStudents: classroom ? Array.from(classroom.students.entries()).map(([id, data])=>({\n                                id,\n                                displayName: data.displayName\n                            })) : []\n                    });\n                    if (!classroom) {\n                        console.log(`Classroom ${classCode} not found`);\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            error: \"Classroom not found\"\n                        }, {\n                            status: 404\n                        });\n                    }\n                    // If student is already in the classroom, update their display name and send current state\n                    if (classroom.students.has(studentId)) {\n                        console.log(`Student ${studentId} reconnecting to classroom ${classCode}`);\n                        classroom.students.set(studentId, {\n                            displayName\n                        });\n                    } else {\n                        // Add new student to classroom\n                        classroom.students.set(studentId, {\n                            displayName\n                        });\n                        console.log(`Student ${studentId} (${displayName}) joining classroom ${classCode}`);\n                    }\n                    // Get current students list\n                    const allStudents = [\n                        {\n                            id: classroom.teacherId,\n                            displayName: \"Teacher\"\n                        },\n                        ...Array.from(classroom.students.entries()).map(([id, data])=>({\n                                id,\n                                displayName: data.displayName\n                            }))\n                    ];\n                    console.log(`Current students in classroom ${classCode}:`, allStudents);\n                    try {\n                        // Send student-joined event to all clients\n                        const studentJoinedEvent = {\n                            studentId,\n                            displayName,\n                            students: allStudents\n                        };\n                        console.log(\"Sending student-joined event:\", studentJoinedEvent);\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-joined\", studentJoinedEvent);\n                        console.log(\"Student joined event sent successfully\");\n                        // Send teacher-update event to ensure teacher has latest student list\n                        const teacherUpdateEvent = {\n                            studentId,\n                            displayName,\n                            students: allStudents\n                        };\n                        console.log(\"Sending teacher-update event:\", teacherUpdateEvent);\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"teacher-update\", teacherUpdateEvent);\n                        console.log(\"Teacher update event sent successfully\");\n                        // Log the events that were sent\n                        console.log(\"Events sent:\", {\n                            studentJoined: studentJoinedEvent,\n                            teacherUpdate: teacherUpdateEvent\n                        });\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher events:\", error);\n                        // Try to get more details about the error\n                        if (error instanceof Error) {\n                            console.error(\"Error details:\", {\n                                message: error.message,\n                                stack: error.stack,\n                                name: error.name\n                            });\n                        }\n                        // Don't throw the error, just return it in the response\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            error: \"Failed to send events\",\n                            details: error instanceof Error ? error.message : \"Unknown error\"\n                        }, {\n                            status: 500\n                        });\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        students: allStudents // Include the current student list in the response\n                    });\n                }\n            case \"draw-update\":\n                console.log(\"Draw update from student\", studentId, \"in classroom\", classCode, \"drawData:\", drawData ? \"present\" : \"null\", \"canvasState:\", canvasState ? `${Math.round(canvasState.length / 1024)}KB` : \"null\");\n                try {\n                    // Ensure we're sending the correct event data\n                    const eventData = {\n                        studentId,\n                        drawData,\n                        canvasState\n                    };\n                    // Check payload size to avoid 413 errors\n                    const payload = JSON.stringify(eventData);\n                    const payloadSize = Buffer.byteLength(payload, \"utf8\");\n                    console.log(`Payload size: ${Math.round(payloadSize / 1024)}KB`);\n                    if (payloadSize > 9000) {\n                        console.log(\"Payload too large, sending without canvas state\");\n                        // Send without canvas state to reduce size\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"draw-update\", {\n                            studentId,\n                            drawData,\n                            canvasState: null\n                        });\n                    } else {\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"draw-update\", eventData);\n                    }\n                    console.log(\"Draw update event sent successfully\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                } catch (error) {\n                    console.error(\"Error sending draw update:\", error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Failed to send draw update\",\n                        details: error instanceof Error ? error.message : \"Unknown error\"\n                    }, {\n                        status: 500\n                    });\n                }\n            case \"leave-classroom\":\n                {\n                    const classroom = classrooms.get(classCode);\n                    if (classroom) {\n                        classroom.students.delete(studentId);\n                        console.log(`Student ${studentId} leaving classroom ${classCode}`);\n                        // Get all students including the teacher\n                        const allStudents = [\n                            {\n                                id: classroom.teacherId,\n                                displayName: \"Teacher\"\n                            },\n                            ...Array.from(classroom.students.entries()).map(([id, data])=>({\n                                    id,\n                                    displayName: data.displayName\n                                }))\n                        ];\n                        try {\n                            await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-left\", {\n                                students: allStudents\n                            });\n                            console.log(\"Student left event sent successfully\");\n                        } catch (error) {\n                            console.error(\"Error triggering Pusher event:\", error);\n                            throw error;\n                        }\n                        if (classroom.students.size === 0 && classroom.teacherId === studentId) {\n                            classrooms.delete(classCode);\n                            console.log(`Classroom ${classCode} deleted`);\n                        }\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                }\n            default:\n                console.log(\"Invalid event type:\", type);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid event type\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Pusher API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3B1c2hlci9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDQztBQUU1QyxNQUFNRSxhQUFhLElBQUlDO0FBS3ZCLFNBQVNDO0lBQ1AsT0FBT0MsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDLEdBQUcsR0FBR0MsV0FBVztBQUMvRDtBQUVPLGVBQWVDLEtBQUtDLE9BQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELFFBQVFFLElBQUk7UUFDL0IsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLFdBQVcsRUFBRSxHQUFHTjtRQUU5RE8sUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQyxlQUFlTjtRQUMzQkssUUFBUUMsR0FBRyxDQUFDLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ1YsTUFBTSxNQUFNO1FBRWhELElBQUlFLFNBQVMsc0JBQXNCLENBQUNDLFdBQVc7WUFDN0MsT0FBT2YscURBQVlBLENBQUNhLElBQUksQ0FBQztnQkFBRVUsT0FBTztZQUF5QixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDOUU7UUFFQSxNQUFNQyxZQUFZO1lBQ2hCVjtZQUNBQztZQUNBQztZQUNBQztRQUNGO1FBRUEsT0FBUUo7WUFDTixLQUFLO2dCQUFvQjtvQkFDdkIsTUFBTSxFQUFFWSxTQUFTLEVBQUUsR0FBR2Q7b0JBQ3RCLElBQUlHO29CQUNKLEdBQUc7d0JBQ0RBLFlBQVlYO29CQUNkLFFBQVNGLFdBQVd5QixHQUFHLENBQUNaLFlBQVk7b0JBRXBDYixXQUFXMEIsR0FBRyxDQUFDYixXQUFXO3dCQUN4Qlc7d0JBQ0FHLFVBQVUsSUFBSTFCO29CQUNoQjtvQkFFQWdCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1CQUFtQixFQUFFTCxVQUFVLGFBQWEsRUFBRVcsVUFBVSxDQUFDO29CQUV0RSxJQUFJO3dCQUNGLE1BQU16QixxREFBWUEsQ0FBQzZCLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRWYsVUFBVSxDQUFDLEVBQUUscUJBQXFCOzRCQUN4RUE7NEJBQ0FXO3dCQUNGO3dCQUNBUCxRQUFRQyxHQUFHLENBQUM7b0JBQ2QsRUFBRSxPQUFPRyxPQUFPO3dCQUNkSixRQUFRSSxLQUFLLENBQUMsa0NBQWtDQTt3QkFDaEQsTUFBTUE7b0JBQ1I7b0JBRUEsT0FBT3ZCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7d0JBQUVFO29CQUFVO2dCQUN2QztZQUVBLEtBQUs7Z0JBQWtCO29CQUNyQixNQUFNLEVBQUVnQixXQUFXLEVBQUUsR0FBR25CO29CQUN4QixNQUFNb0IsWUFBWTlCLFdBQVcrQixHQUFHLENBQUNsQjtvQkFFakNJLFFBQVFDLEdBQUcsQ0FBQyxzQ0FBc0M7d0JBQ2hETDt3QkFDQUM7d0JBQ0FlO3dCQUNBRyxpQkFBaUIsQ0FBQyxDQUFDRjt3QkFDbkJHLGlCQUFpQkgsWUFBWUksTUFBTUMsSUFBSSxDQUFDTCxVQUFVSCxRQUFRLENBQUNTLE9BQU8sSUFBSUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSUMsS0FBSyxHQUFNO2dDQUN6RkQ7Z0NBQ0FULGFBQWFVLEtBQUtWLFdBQVc7NEJBQy9CLE1BQU0sRUFBRTtvQkFDVjtvQkFFQSxJQUFJLENBQUNDLFdBQVc7d0JBQ2RiLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRUwsVUFBVSxVQUFVLENBQUM7d0JBQzlDLE9BQU9mLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7NEJBQUVVLE9BQU87d0JBQXNCLEdBQUc7NEJBQUVDLFFBQVE7d0JBQUk7b0JBQzNFO29CQUVBLDJGQUEyRjtvQkFDM0YsSUFBSVEsVUFBVUgsUUFBUSxDQUFDRixHQUFHLENBQUNYLFlBQVk7d0JBQ3JDRyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVKLFVBQVUsMkJBQTJCLEVBQUVELFVBQVUsQ0FBQzt3QkFDekVpQixVQUFVSCxRQUFRLENBQUNELEdBQUcsQ0FBQ1osV0FBVzs0QkFBRWU7d0JBQVk7b0JBQ2xELE9BQU87d0JBQ0wsK0JBQStCO3dCQUMvQkMsVUFBVUgsUUFBUSxDQUFDRCxHQUFHLENBQUNaLFdBQVc7NEJBQUVlO3dCQUFZO3dCQUNoRFosUUFBUUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFSixVQUFVLEVBQUUsRUFBRWUsWUFBWSxvQkFBb0IsRUFBRWhCLFVBQVUsQ0FBQztvQkFDcEY7b0JBRUEsNEJBQTRCO29CQUM1QixNQUFNMkIsY0FBYzt3QkFDbEI7NEJBQ0VGLElBQUlSLFVBQVVOLFNBQVM7NEJBQ3ZCSyxhQUFhO3dCQUNmOzJCQUNHSyxNQUFNQyxJQUFJLENBQUNMLFVBQVVILFFBQVEsQ0FBQ1MsT0FBTyxJQUFJQyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxJQUFJQyxLQUFLLEdBQU07Z0NBQy9ERDtnQ0FDQVQsYUFBYVUsS0FBS1YsV0FBVzs0QkFDL0I7cUJBQ0Q7b0JBRURaLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixFQUFFTCxVQUFVLENBQUMsQ0FBQyxFQUFFMkI7b0JBRTNELElBQUk7d0JBQ0YsMkNBQTJDO3dCQUMzQyxNQUFNQyxxQkFBcUI7NEJBQ3pCM0I7NEJBQ0FlOzRCQUNBRixVQUFVYTt3QkFDWjt3QkFFQXZCLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUN1Qjt3QkFFN0MsTUFBTTFDLHFEQUFZQSxDQUFDNkIsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFZixVQUFVLENBQUMsRUFBRSxrQkFBa0I0Qjt3QkFDdkV4QixRQUFRQyxHQUFHLENBQUM7d0JBRVosc0VBQXNFO3dCQUN0RSxNQUFNd0IscUJBQXFCOzRCQUN6QjVCOzRCQUNBZTs0QkFDQUYsVUFBVWE7d0JBQ1o7d0JBRUF2QixRQUFRQyxHQUFHLENBQUMsaUNBQWlDd0I7d0JBRTdDLE1BQU0zQyxxREFBWUEsQ0FBQzZCLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRWYsVUFBVSxDQUFDLEVBQUUsa0JBQWtCNkI7d0JBQ3ZFekIsUUFBUUMsR0FBRyxDQUFDO3dCQUVaLGdDQUFnQzt3QkFDaENELFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0I7NEJBQzFCeUIsZUFBZUY7NEJBQ2ZHLGVBQWVGO3dCQUNqQjtvQkFDRixFQUFFLE9BQU9yQixPQUFPO3dCQUNkSixRQUFRSSxLQUFLLENBQUMsbUNBQW1DQTt3QkFDakQsMENBQTBDO3dCQUMxQyxJQUFJQSxpQkFBaUJ3QixPQUFPOzRCQUMxQjVCLFFBQVFJLEtBQUssQ0FBQyxrQkFBa0I7Z0NBQzlCeUIsU0FBU3pCLE1BQU15QixPQUFPO2dDQUN0QkMsT0FBTzFCLE1BQU0wQixLQUFLO2dDQUNsQkMsTUFBTTNCLE1BQU0yQixJQUFJOzRCQUNsQjt3QkFDRjt3QkFDQSx3REFBd0Q7d0JBQ3hELE9BQU9sRCxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDOzRCQUN2QlUsT0FBTzs0QkFDUDRCLFNBQVM1QixpQkFBaUJ3QixRQUFReEIsTUFBTXlCLE9BQU8sR0FBRzt3QkFDcEQsR0FBRzs0QkFBRXhCLFFBQVE7d0JBQUk7b0JBQ25CO29CQUVBLE9BQU94QixxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDO3dCQUN2QnVDLFNBQVM7d0JBQ1R2QixVQUFVYSxZQUFZLG1EQUFtRDtvQkFDM0U7Z0JBQ0Y7WUFFQSxLQUFLO2dCQUNIdkIsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QkosV0FBVyxnQkFBZ0JELFdBQ2pFLGFBQWFFLFdBQVcsWUFBWSxRQUNwQyxnQkFBZ0JDLGNBQWMsQ0FBQyxFQUFFYixLQUFLZ0QsS0FBSyxDQUFDbkMsWUFBWW9DLE1BQU0sR0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHO2dCQUc3RSxJQUFJO29CQUNGLDhDQUE4QztvQkFDOUMsTUFBTTdCLFlBQVk7d0JBQ2hCVDt3QkFDQUM7d0JBQ0FDO29CQUNGO29CQUVBLHlDQUF5QztvQkFDekMsTUFBTXFDLFVBQVVsQyxLQUFLQyxTQUFTLENBQUNHO29CQUMvQixNQUFNK0IsY0FBY0MsT0FBT0MsVUFBVSxDQUFDSCxTQUFTO29CQUMvQ3BDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRWYsS0FBS2dELEtBQUssQ0FBQ0csY0FBWSxNQUFNLEVBQUUsQ0FBQztvQkFFN0QsSUFBSUEsY0FBYyxNQUFNO3dCQUN0QnJDLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWiwyQ0FBMkM7d0JBQzNDLE1BQU1uQixxREFBWUEsQ0FBQzZCLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRWYsVUFBVSxDQUFDLEVBQUUsZUFBZTs0QkFDbEVDOzRCQUNBQzs0QkFDQUMsYUFBYTt3QkFDZjtvQkFDRixPQUFPO3dCQUNMLE1BQU1qQixxREFBWUEsQ0FBQzZCLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRWYsVUFBVSxDQUFDLEVBQUUsZUFBZVU7b0JBQ3RFO29CQUVBTixRQUFRQyxHQUFHLENBQUM7b0JBQ1osT0FBT3BCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7d0JBQUV1QyxTQUFTO29CQUFLO2dCQUMzQyxFQUFFLE9BQU83QixPQUFPO29CQUNkSixRQUFRSSxLQUFLLENBQUMsOEJBQThCQTtvQkFDNUMsT0FBT3ZCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7d0JBQ3ZCVSxPQUFPO3dCQUNQNEIsU0FBUzVCLGlCQUFpQndCLFFBQVF4QixNQUFNeUIsT0FBTyxHQUFHO29CQUNwRCxHQUFHO3dCQUFFeEIsUUFBUTtvQkFBSTtnQkFDbkI7WUFFRixLQUFLO2dCQUFtQjtvQkFDdEIsTUFBTVEsWUFBWTlCLFdBQVcrQixHQUFHLENBQUNsQjtvQkFFakMsSUFBSWlCLFdBQVc7d0JBQ2JBLFVBQVVILFFBQVEsQ0FBQzhCLE1BQU0sQ0FBQzNDO3dCQUMxQkcsUUFBUUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFSixVQUFVLG1CQUFtQixFQUFFRCxVQUFVLENBQUM7d0JBRWpFLHlDQUF5Qzt3QkFDekMsTUFBTTJCLGNBQWM7NEJBQ2xCO2dDQUNFRixJQUFJUixVQUFVTixTQUFTO2dDQUN2QkssYUFBYTs0QkFDZjsrQkFDR0ssTUFBTUMsSUFBSSxDQUFDTCxVQUFVSCxRQUFRLENBQUNTLE9BQU8sSUFBSUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSUMsS0FBSyxHQUFNO29DQUMvREQ7b0NBQ0FULGFBQWFVLEtBQUtWLFdBQVc7Z0NBQy9CO3lCQUNEO3dCQUVELElBQUk7NEJBQ0YsTUFBTTlCLHFEQUFZQSxDQUFDNkIsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFZixVQUFVLENBQUMsRUFBRSxnQkFBZ0I7Z0NBQ25FYyxVQUFVYTs0QkFDWjs0QkFDQXZCLFFBQVFDLEdBQUcsQ0FBQzt3QkFDZCxFQUFFLE9BQU9HLE9BQU87NEJBQ2RKLFFBQVFJLEtBQUssQ0FBQyxrQ0FBa0NBOzRCQUNoRCxNQUFNQTt3QkFDUjt3QkFFQSxJQUFJUyxVQUFVSCxRQUFRLENBQUMrQixJQUFJLEtBQUssS0FBSzVCLFVBQVVOLFNBQVMsS0FBS1YsV0FBVzs0QkFDdEVkLFdBQVd5RCxNQUFNLENBQUM1Qzs0QkFDbEJJLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRUwsVUFBVSxRQUFRLENBQUM7d0JBQzlDO29CQUNGO29CQUVBLE9BQU9mLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7d0JBQUV1QyxTQUFTO29CQUFLO2dCQUMzQztZQUVBO2dCQUNFakMsUUFBUUMsR0FBRyxDQUFDLHVCQUF1Qk47Z0JBQ25DLE9BQU9kLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7b0JBQUVVLE9BQU87Z0JBQXFCLEdBQUc7b0JBQUVDLFFBQVE7Z0JBQUk7UUFDNUU7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBT3ZCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFBRVUsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsbGVyeWJvYXJkLy4vYXBwL2FwaS9wdXNoZXIvcm91dGUudHM/MzQ2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwdXNoZXJTZXJ2ZXIgfSBmcm9tICdAL2xpYi9wdXNoZXInO1xuXG5jb25zdCBjbGFzc3Jvb21zID0gbmV3IE1hcDxzdHJpbmcsIHtcbiAgdGVhY2hlcklkOiBzdHJpbmc7XG4gIHN0dWRlbnRzOiBNYXA8c3RyaW5nLCB7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfT47XG59PigpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUNsYXNzQ29kZSgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KS50b1VwcGVyQ2FzZSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgdHlwZSwgY2xhc3NDb2RlLCBzdHVkZW50SWQsIGRyYXdEYXRhLCBjYW52YXNTdGF0ZSB9ID0gYm9keTtcblxuICAgIGNvbnNvbGUubG9nKCdQdXNoZXIgQVBJIHJlcXVlc3QgcmVjZWl2ZWQnKTtcbiAgICBjb25zb2xlLmxvZygnRXZlbnQgdHlwZTonLCB0eXBlKTtcbiAgICBjb25zb2xlLmxvZygnRGF0YTonLCBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSk7XG5cbiAgICBpZiAodHlwZSAhPT0gJ2NyZWF0ZS1jbGFzc3Jvb20nICYmICFjbGFzc0NvZGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ2xhc3MgY29kZSBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICBjbGFzc0NvZGUsXG4gICAgICBzdHVkZW50SWQsXG4gICAgICBkcmF3RGF0YSxcbiAgICAgIGNhbnZhc1N0YXRlXG4gICAgfTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnY3JlYXRlLWNsYXNzcm9vbSc6IHtcbiAgICAgICAgY29uc3QgeyB0ZWFjaGVySWQgfSA9IGJvZHk7XG4gICAgICAgIGxldCBjbGFzc0NvZGU6IHN0cmluZztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGNsYXNzQ29kZSA9IGdlbmVyYXRlQ2xhc3NDb2RlKCk7XG4gICAgICAgIH0gd2hpbGUgKGNsYXNzcm9vbXMuaGFzKGNsYXNzQ29kZSkpO1xuXG4gICAgICAgIGNsYXNzcm9vbXMuc2V0KGNsYXNzQ29kZSwge1xuICAgICAgICAgIHRlYWNoZXJJZCxcbiAgICAgICAgICBzdHVkZW50czogbmV3IE1hcCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBDcmVhdGluZyBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9IGZvciB0ZWFjaGVyICR7dGVhY2hlcklkfWApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnY2xhc3Nyb29tLWNyZWF0ZWQnLCB7XG4gICAgICAgICAgICBjbGFzc0NvZGUsXG4gICAgICAgICAgICB0ZWFjaGVySWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2xhc3Nyb29tIGNyZWF0ZWQgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudDonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjbGFzc0NvZGUgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2pvaW4tY2xhc3Nyb29tJzoge1xuICAgICAgICBjb25zdCB7IGRpc3BsYXlOYW1lIH0gPSBib2R5O1xuICAgICAgICBjb25zdCBjbGFzc3Jvb20gPSBjbGFzc3Jvb21zLmdldChjbGFzc0NvZGUpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIGpvaW4tY2xhc3Nyb29tIHJlcXVlc3Q6Jywge1xuICAgICAgICAgIGNsYXNzQ29kZSxcbiAgICAgICAgICBzdHVkZW50SWQsXG4gICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgY2xhc3Nyb29tRXhpc3RzOiAhIWNsYXNzcm9vbSxcbiAgICAgICAgICBjdXJyZW50U3R1ZGVudHM6IGNsYXNzcm9vbSA/IEFycmF5LmZyb20oY2xhc3Nyb29tLnN0dWRlbnRzLmVudHJpZXMoKSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZVxuICAgICAgICAgIH0pKSA6IFtdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghY2xhc3Nyb29tKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYENsYXNzcm9vbSAke2NsYXNzQ29kZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDbGFzc3Jvb20gbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgc3R1ZGVudCBpcyBhbHJlYWR5IGluIHRoZSBjbGFzc3Jvb20sIHVwZGF0ZSB0aGVpciBkaXNwbGF5IG5hbWUgYW5kIHNlbmQgY3VycmVudCBzdGF0ZVxuICAgICAgICBpZiAoY2xhc3Nyb29tLnN0dWRlbnRzLmhhcyhzdHVkZW50SWQpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFN0dWRlbnQgJHtzdHVkZW50SWR9IHJlY29ubmVjdGluZyB0byBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9YCk7XG4gICAgICAgICAgY2xhc3Nyb29tLnN0dWRlbnRzLnNldChzdHVkZW50SWQsIHsgZGlzcGxheU5hbWUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIG5ldyBzdHVkZW50IHRvIGNsYXNzcm9vbVxuICAgICAgICAgIGNsYXNzcm9vbS5zdHVkZW50cy5zZXQoc3R1ZGVudElkLCB7IGRpc3BsYXlOYW1lIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTdHVkZW50ICR7c3R1ZGVudElkfSAoJHtkaXNwbGF5TmFtZX0pIGpvaW5pbmcgY2xhc3Nyb29tICR7Y2xhc3NDb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgY3VycmVudCBzdHVkZW50cyBsaXN0XG4gICAgICAgIGNvbnN0IGFsbFN0dWRlbnRzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiBjbGFzc3Jvb20udGVhY2hlcklkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4uQXJyYXkuZnJvbShjbGFzc3Jvb20uc3R1ZGVudHMuZW50cmllcygpKS5tYXAoKFtpZCwgZGF0YV0pID0+ICh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlOYW1lXG4gICAgICAgICAgfSkpXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgc3R1ZGVudHMgaW4gY2xhc3Nyb29tICR7Y2xhc3NDb2RlfTpgLCBhbGxTdHVkZW50cyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTZW5kIHN0dWRlbnQtam9pbmVkIGV2ZW50IHRvIGFsbCBjbGllbnRzXG4gICAgICAgICAgY29uc3Qgc3R1ZGVudEpvaW5lZEV2ZW50ID0ge1xuICAgICAgICAgICAgc3R1ZGVudElkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBzdHVkZW50czogYWxsU3R1ZGVudHNcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIHN0dWRlbnQtam9pbmVkIGV2ZW50OicsIHN0dWRlbnRKb2luZWRFdmVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnc3R1ZGVudC1qb2luZWQnLCBzdHVkZW50Sm9pbmVkRXZlbnQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHVkZW50IGpvaW5lZCBldmVudCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNlbmQgdGVhY2hlci11cGRhdGUgZXZlbnQgdG8gZW5zdXJlIHRlYWNoZXIgaGFzIGxhdGVzdCBzdHVkZW50IGxpc3RcbiAgICAgICAgICBjb25zdCB0ZWFjaGVyVXBkYXRlRXZlbnQgPSB7XG4gICAgICAgICAgICBzdHVkZW50SWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHN0dWRlbnRzOiBhbGxTdHVkZW50c1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgdGVhY2hlci11cGRhdGUgZXZlbnQ6JywgdGVhY2hlclVwZGF0ZUV2ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICd0ZWFjaGVyLXVwZGF0ZScsIHRlYWNoZXJVcGRhdGVFdmVudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1RlYWNoZXIgdXBkYXRlIGV2ZW50IHNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgICAgICAvLyBMb2cgdGhlIGV2ZW50cyB0aGF0IHdlcmUgc2VudFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudHMgc2VudDonLCB7XG4gICAgICAgICAgICBzdHVkZW50Sm9pbmVkOiBzdHVkZW50Sm9pbmVkRXZlbnQsXG4gICAgICAgICAgICB0ZWFjaGVyVXBkYXRlOiB0ZWFjaGVyVXBkYXRlRXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudHM6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbW9yZSBkZXRhaWxzIGFib3V0IHRoZSBlcnJvclxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRG9uJ3QgdGhyb3cgdGhlIGVycm9yLCBqdXN0IHJldHVybiBpdCBpbiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgZXZlbnRzJywgXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyBcbiAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBzdHVkZW50czogYWxsU3R1ZGVudHMgLy8gSW5jbHVkZSB0aGUgY3VycmVudCBzdHVkZW50IGxpc3QgaW4gdGhlIHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkcmF3LXVwZGF0ZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdEcmF3IHVwZGF0ZSBmcm9tIHN0dWRlbnQnLCBzdHVkZW50SWQsICdpbiBjbGFzc3Jvb20nLCBjbGFzc0NvZGUsIFxuICAgICAgICAgICdkcmF3RGF0YTonLCBkcmF3RGF0YSA/ICdwcmVzZW50JyA6ICdudWxsJyxcbiAgICAgICAgICAnY2FudmFzU3RhdGU6JywgY2FudmFzU3RhdGUgPyBgJHtNYXRoLnJvdW5kKGNhbnZhc1N0YXRlLmxlbmd0aC8xMDI0KX1LQmAgOiAnbnVsbCdcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHdlJ3JlIHNlbmRpbmcgdGhlIGNvcnJlY3QgZXZlbnQgZGF0YVxuICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgIGRyYXdEYXRhLFxuICAgICAgICAgICAgY2FudmFzU3RhdGVcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIHBheWxvYWQgc2l6ZSB0byBhdm9pZCA0MTMgZXJyb3JzXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KGV2ZW50RGF0YSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZFNpemUgPSBCdWZmZXIuYnl0ZUxlbmd0aChwYXlsb2FkLCAndXRmOCcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBQYXlsb2FkIHNpemU6ICR7TWF0aC5yb3VuZChwYXlsb2FkU2l6ZS8xMDI0KX1LQmApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChwYXlsb2FkU2l6ZSA+IDkwMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXlsb2FkIHRvbyBsYXJnZSwgc2VuZGluZyB3aXRob3V0IGNhbnZhcyBzdGF0ZScpO1xuICAgICAgICAgICAgLy8gU2VuZCB3aXRob3V0IGNhbnZhcyBzdGF0ZSB0byByZWR1Y2Ugc2l6ZVxuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnZHJhdy11cGRhdGUnLCB7XG4gICAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgICAgZHJhd0RhdGEsXG4gICAgICAgICAgICAgIGNhbnZhc1N0YXRlOiBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnZHJhdy11cGRhdGUnLCBldmVudERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnRHJhdyB1cGRhdGUgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZHJhdyB1cGRhdGU6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc2VuZCBkcmF3IHVwZGF0ZScsIFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgXG4gICAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdsZWF2ZS1jbGFzc3Jvb20nOiB7XG4gICAgICAgIGNvbnN0IGNsYXNzcm9vbSA9IGNsYXNzcm9vbXMuZ2V0KGNsYXNzQ29kZSk7XG5cbiAgICAgICAgaWYgKGNsYXNzcm9vbSkge1xuICAgICAgICAgIGNsYXNzcm9vbS5zdHVkZW50cy5kZWxldGUoc3R1ZGVudElkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3R1ZGVudCAke3N0dWRlbnRJZH0gbGVhdmluZyBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9YCk7XG5cbiAgICAgICAgICAvLyBHZXQgYWxsIHN0dWRlbnRzIGluY2x1ZGluZyB0aGUgdGVhY2hlclxuICAgICAgICAgIGNvbnN0IGFsbFN0dWRlbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogY2xhc3Nyb29tLnRlYWNoZXJJZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLkFycmF5LmZyb20oY2xhc3Nyb29tLnN0dWRlbnRzLmVudHJpZXMoKSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWVcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnc3R1ZGVudC1sZWZ0Jywge1xuICAgICAgICAgICAgICBzdHVkZW50czogYWxsU3R1ZGVudHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0dWRlbnQgbGVmdCBldmVudCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2xhc3Nyb29tLnN0dWRlbnRzLnNpemUgPT09IDAgJiYgY2xhc3Nyb29tLnRlYWNoZXJJZCA9PT0gc3R1ZGVudElkKSB7XG4gICAgICAgICAgICBjbGFzc3Jvb21zLmRlbGV0ZShjbGFzc0NvZGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYENsYXNzcm9vbSAke2NsYXNzQ29kZX0gZGVsZXRlZGApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIGV2ZW50IHR5cGU6JywgdHlwZSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBldmVudCB0eXBlJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQdXNoZXIgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHVzaGVyU2VydmVyIiwiY2xhc3Nyb29tcyIsIk1hcCIsImdlbmVyYXRlQ2xhc3NDb2RlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidG9VcHBlckNhc2UiLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwidHlwZSIsImNsYXNzQ29kZSIsInN0dWRlbnRJZCIsImRyYXdEYXRhIiwiY2FudmFzU3RhdGUiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwiZXZlbnREYXRhIiwidGVhY2hlcklkIiwiaGFzIiwic2V0Iiwic3R1ZGVudHMiLCJ0cmlnZ2VyIiwiZGlzcGxheU5hbWUiLCJjbGFzc3Jvb20iLCJnZXQiLCJjbGFzc3Jvb21FeGlzdHMiLCJjdXJyZW50U3R1ZGVudHMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwibWFwIiwiaWQiLCJkYXRhIiwiYWxsU3R1ZGVudHMiLCJzdHVkZW50Sm9pbmVkRXZlbnQiLCJ0ZWFjaGVyVXBkYXRlRXZlbnQiLCJzdHVkZW50Sm9pbmVkIiwidGVhY2hlclVwZGF0ZSIsIkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwibmFtZSIsImRldGFpbHMiLCJzdWNjZXNzIiwicm91bmQiLCJsZW5ndGgiLCJwYXlsb2FkIiwicGF5bG9hZFNpemUiLCJCdWZmZXIiLCJieXRlTGVuZ3RoIiwiZGVsZXRlIiwic2l6ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pusher/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/pusher.ts":
/*!***********************!*\
  !*** ./lib/pusher.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pusherClient: () => (/* binding */ pusherClient),\n/* harmony export */   pusherServer: () => (/* binding */ pusherServer)\n/* harmony export */ });\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pusher */ \"(rsc)/./node_modules/pusher/lib/pusher.js\");\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pusher__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pusher-js */ \"(rsc)/./node_modules/pusher-js/dist/node/pusher.js\");\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pusher_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst pusherServer = new (pusher__WEBPACK_IMPORTED_MODULE_0___default())({\n    appId: \"1962551\",\n    key: \"0a97d4aa577b7a7831d5\",\n    secret: process.env.PUSHER_SECRET,\n    cluster: \"us2\",\n    useTLS: true\n});\n// Enable Pusher logging for debugging\nif (false) {}\nconst pusherClient = new (pusher_js__WEBPACK_IMPORTED_MODULE_1___default())(\"0a97d4aa577b7a7831d5\", {\n    cluster: \"us2\",\n    forceTLS: true,\n    enabledTransports: [\n        \"ws\",\n        \"wss\"\n    ],\n    authEndpoint: \"/api/pusher/auth\",\n    auth: {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHVzaGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQztBQUNHO0FBRTlCLE1BQU1FLGVBQWUsSUFBSUYsK0NBQVlBLENBQUM7SUFDM0NHLE9BQU9DLFNBQXFDO0lBQzVDRyxLQUFLSCxzQkFBa0M7SUFDdkNLLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ0ssYUFBYTtJQUNqQ0MsU0FBU1AsS0FBc0M7SUFDL0NTLFFBQVE7QUFDVixHQUFHO0FBRUgsc0NBQXNDO0FBQ3RDLElBQUksS0FBa0IsRUFBYSxFQUVsQztBQUVNLE1BQU1FLGVBQWUsSUFBSWQsa0RBQVlBLENBQzFDRyxzQkFBa0MsRUFDbEM7SUFDRU8sU0FBU1AsS0FBc0M7SUFDL0NZLFVBQVU7SUFDVkMsbUJBQW1CO1FBQUM7UUFBTTtLQUFNO0lBQ2hDQyxjQUFjO0lBQ2RDLE1BQU07UUFDSkMsU0FBUztZQUNQLGdCQUFnQjtRQUNsQjtJQUNGO0FBQ0YsR0FDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbGxlcnlib2FyZC8uL2xpYi9wdXNoZXIudHM/OTAzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHVzaGVyU2VydmVyIGZyb20gJ3B1c2hlcic7XG5pbXBvcnQgUHVzaGVyQ2xpZW50IGZyb20gJ3B1c2hlci1qcyc7XG5cbmV4cG9ydCBjb25zdCBwdXNoZXJTZXJ2ZXIgPSBuZXcgUHVzaGVyU2VydmVyKHtcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9BUFBfSUQhLFxuICBrZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9LRVkhLFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52LlBVU0hFUl9TRUNSRVQhLFxuICBjbHVzdGVyOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVVNIRVJfQ0xVU1RFUiEsXG4gIHVzZVRMUzogdHJ1ZSxcbn0pO1xuXG4vLyBFbmFibGUgUHVzaGVyIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIFB1c2hlckNsaWVudC5sb2dUb0NvbnNvbGUgPSB0cnVlO1xufVxuXG5leHBvcnQgY29uc3QgcHVzaGVyQ2xpZW50ID0gbmV3IFB1c2hlckNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0tFWSEsXG4gIHtcbiAgICBjbHVzdGVyOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVVNIRVJfQ0xVU1RFUiEsXG4gICAgZm9yY2VUTFM6IHRydWUsXG4gICAgZW5hYmxlZFRyYW5zcG9ydHM6IFsnd3MnLCAnd3NzJ10sXG4gICAgYXV0aEVuZHBvaW50OiAnL2FwaS9wdXNoZXIvYXV0aCcsXG4gICAgYXV0aDoge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbik7ICJdLCJuYW1lcyI6WyJQdXNoZXJTZXJ2ZXIiLCJQdXNoZXJDbGllbnQiLCJwdXNoZXJTZXJ2ZXIiLCJhcHBJZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QVVNIRVJfQVBQX0lEIiwia2V5IiwiTkVYVF9QVUJMSUNfUFVTSEVSX0tFWSIsInNlY3JldCIsIlBVU0hFUl9TRUNSRVQiLCJjbHVzdGVyIiwiTkVYVF9QVUJMSUNfUFVTSEVSX0NMVVNURVIiLCJ1c2VUTFMiLCJsb2dUb0NvbnNvbGUiLCJwdXNoZXJDbGllbnQiLCJmb3JjZVRMUyIsImVuYWJsZWRUcmFuc3BvcnRzIiwiYXV0aEVuZHBvaW50IiwiYXV0aCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/pusher.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/pusher-js","vendor-chunks/tr46","vendor-chunks/tweetnacl","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/pusher","vendor-chunks/event-target-shim","vendor-chunks/webidl-conversions","vendor-chunks/abort-controller","vendor-chunks/tweetnacl-util","vendor-chunks/is-base64"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();