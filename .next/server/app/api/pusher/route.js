"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pusher/route";
exports.ids = ["app/api/pusher/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pusher/route.ts */ \"(rsc)/./app/api/pusher/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pusher/route\",\n        pathname: \"/api/pusher\",\n        filename: \"route\",\n        bundlePath: \"app/api/pusher/route\"\n    },\n    resolvedPagePath: \"/Users/alexlautin/Documents/GitHub/emoryhacks25/app/api/pusher/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alexlautin_Documents_GitHub_emoryhacks25_app_api_pusher_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/pusher/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwdXNoZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnB1c2hlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnB1c2hlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXhsYXV0aW4lMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZlbW9yeWhhY2tzMjUlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYWxleGxhdXRpbiUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRmVtb3J5aGFja3MyNSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDdUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYWxsZXJ5Ym9hcmQvPzAwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2FsZXhsYXV0aW4vRG9jdW1lbnRzL0dpdEh1Yi9lbW9yeWhhY2tzMjUvYXBwL2FwaS9wdXNoZXIvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wdXNoZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wdXNoZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3B1c2hlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9hbGV4bGF1dGluL0RvY3VtZW50cy9HaXRIdWIvZW1vcnloYWNrczI1L2FwcC9hcGkvcHVzaGVyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3B1c2hlci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pusher/route.ts":
/*!*********************************!*\
  !*** ./app/api/pusher/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_pusher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/pusher */ \"(rsc)/./lib/pusher.ts\");\n\n\nconst classrooms = new Map();\nfunction generateClassCode() {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { type, classCode, studentId, drawData, canvasState } = body;\n        console.log(\"Pusher API request received\");\n        console.log(\"Event type:\", type);\n        console.log(\"Data:\", JSON.stringify(body, null, 2));\n        if (type !== \"create-classroom\" && !classCode) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Class code is required\"\n            }, {\n                status: 400\n            });\n        }\n        const eventData = {\n            classCode,\n            studentId,\n            drawData,\n            canvasState\n        };\n        switch(type){\n            case \"create-classroom\":\n                {\n                    const { teacherId } = body;\n                    let classCode;\n                    do {\n                        classCode = generateClassCode();\n                    }while (classrooms.has(classCode));\n                    // Initialize classroom with teacher\n                    classrooms.set(classCode, {\n                        teacherId,\n                        students: new Map()\n                    });\n                    console.log(`Creating classroom ${classCode} for teacher ${teacherId}`);\n                    try {\n                        // Send classroom created event\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"classroom-created\", {\n                            classCode,\n                            teacherId\n                        });\n                        console.log(\"Classroom created event sent successfully\");\n                        // Send initial teacher-update event with just the teacher\n                        const initialStudents = [\n                            {\n                                id: teacherId,\n                                displayName: \"Teacher\"\n                            }\n                        ];\n                        // Send student-joined event to ensure all clients have the initial state\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-joined\", {\n                            studentId: teacherId,\n                            displayName: \"Teacher\",\n                            students: initialStudents\n                        });\n                        console.log(\"Initial student-joined event sent successfully\");\n                        // Send teacher-update event\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"teacher-update\", {\n                            studentId: teacherId,\n                            displayName: \"Teacher\",\n                            students: initialStudents\n                        });\n                        console.log(\"Initial teacher update event sent successfully\");\n                        // Log the events that were sent\n                        console.log(\"Events sent:\", {\n                            classroomCreated: {\n                                classCode,\n                                teacherId\n                            },\n                            studentJoined: {\n                                studentId: teacherId,\n                                displayName: \"Teacher\",\n                                students: initialStudents\n                            },\n                            teacherUpdate: {\n                                studentId: teacherId,\n                                displayName: \"Teacher\",\n                                students: initialStudents\n                            }\n                        });\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher events:\", error);\n                        throw error;\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        classCode,\n                        students: [\n                            {\n                                id: teacherId,\n                                displayName: \"Teacher\"\n                            }\n                        ]\n                    });\n                }\n            case \"join-classroom\":\n                {\n                    const { displayName } = body;\n                    const classroom = classrooms.get(classCode);\n                    console.log(\"Processing join-classroom request:\", {\n                        classCode,\n                        studentId,\n                        displayName,\n                        classroomExists: !!classroom,\n                        currentStudents: classroom ? Array.from(classroom.students.entries()).map(([id, data])=>({\n                                id,\n                                displayName: data.displayName\n                            })) : []\n                    });\n                    if (!classroom) {\n                        console.log(`Classroom ${classCode} not found`);\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            error: \"Classroom not found\"\n                        }, {\n                            status: 404\n                        });\n                    }\n                    // If student is already in the classroom, update their display name and send current state\n                    if (classroom.students.has(studentId)) {\n                        console.log(`Student ${studentId} reconnecting to classroom ${classCode}`);\n                        classroom.students.set(studentId, {\n                            displayName\n                        });\n                    } else {\n                        // Add new student to classroom\n                        classroom.students.set(studentId, {\n                            displayName\n                        });\n                        console.log(`Student ${studentId} (${displayName}) joining classroom ${classCode}`);\n                    }\n                    // Get current students list\n                    const allStudents = [\n                        {\n                            id: classroom.teacherId,\n                            displayName: \"Teacher\"\n                        },\n                        ...Array.from(classroom.students.entries()).map(([id, data])=>({\n                                id,\n                                displayName: data.displayName\n                            }))\n                    ];\n                    console.log(`Current students in classroom ${classCode}:`, allStudents);\n                    try {\n                        // Send student-joined event to all clients\n                        const studentJoinedEvent = {\n                            studentId,\n                            displayName,\n                            students: allStudents\n                        };\n                        console.log(\"Sending student-joined event:\", studentJoinedEvent);\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-joined\", studentJoinedEvent);\n                        console.log(\"Student joined event sent successfully\");\n                        // Send teacher-update event to ensure teacher has latest student list\n                        const teacherUpdateEvent = {\n                            studentId: classroom.teacherId,\n                            displayName: \"Teacher\",\n                            students: allStudents\n                        };\n                        console.log(\"Sending teacher-update event:\", teacherUpdateEvent);\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"teacher-update\", teacherUpdateEvent);\n                        console.log(\"Teacher update event sent successfully\");\n                        // Log the events that were sent\n                        console.log(\"Events sent:\", {\n                            studentJoined: studentJoinedEvent,\n                            teacherUpdate: teacherUpdateEvent\n                        });\n                    } catch (error) {\n                        console.error(\"Error triggering Pusher events:\", error);\n                        // Try to get more details about the error\n                        if (error instanceof Error) {\n                            console.error(\"Error details:\", {\n                                message: error.message,\n                                stack: error.stack,\n                                name: error.name\n                            });\n                        }\n                        // Don't throw the error, just return it in the response\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            error: \"Failed to send events\",\n                            details: error instanceof Error ? error.message : \"Unknown error\"\n                        }, {\n                            status: 500\n                        });\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        students: allStudents // Include the current student list in the response\n                    });\n                }\n            case \"draw-update\":\n                console.log(\"Draw update from student\", studentId, \"in classroom\", classCode, \"drawData:\", drawData ? JSON.stringify(drawData) : \"null\", \"canvasState:\", canvasState ? `${Math.round(canvasState.length / 1024)}KB` : \"null\");\n                try {\n                    // Ensure we're sending the correct event data\n                    const eventData = {\n                        studentId,\n                        drawData,\n                        canvasState\n                    };\n                    // Check payload size to avoid 413 errors\n                    const payload = JSON.stringify(eventData);\n                    const payloadSize = Buffer.byteLength(payload, \"utf8\");\n                    console.log(`Payload size: ${Math.round(payloadSize / 1024)}KB, Payload:`, payload);\n                    if (payloadSize > 9000) {\n                        console.log(\"Payload too large, sending without canvas state\");\n                        // Send without canvas state to reduce size\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"draw-update\", {\n                            studentId,\n                            drawData,\n                            canvasState: null\n                        });\n                    } else {\n                        // Send to all clients in the classroom\n                        await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"draw-update\", eventData);\n                    }\n                    console.log(\"Draw update event sent successfully to all clients\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                } catch (error) {\n                    console.error(\"Error sending draw update:\", error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Failed to send draw update\",\n                        details: error instanceof Error ? error.message : \"Unknown error\"\n                    }, {\n                        status: 500\n                    });\n                }\n            case \"request-canvas-state\":\n                console.log(\"Canvas state requested by teacher\", studentId, \"in classroom\", classCode);\n                try {\n                    // Broadcast to all students to send their canvas state\n                    await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"request-canvas-state\", {\n                        teacherId: studentId\n                    });\n                    console.log(\"Canvas state request broadcast sent successfully\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                } catch (error) {\n                    console.error(\"Error requesting canvas state:\", error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Failed to request canvas state\",\n                        details: error instanceof Error ? error.message : \"Unknown error\"\n                    }, {\n                        status: 500\n                    });\n                }\n            case \"leave-classroom\":\n                {\n                    const classroom = classrooms.get(classCode);\n                    if (classroom) {\n                        // Log the current state before removing the student\n                        console.log(\"Current classroom state before student leaves:\", {\n                            classCode,\n                            studentId,\n                            teacherId: classroom.teacherId,\n                            currentStudents: Array.from(classroom.students.entries()).map(([id, data])=>({\n                                    id,\n                                    displayName: data.displayName\n                                }))\n                        });\n                        // Remove the student from the classroom\n                        classroom.students.delete(studentId);\n                        console.log(`Student ${studentId} leaving classroom ${classCode}`);\n                        // Get all students including the teacher\n                        const allStudents = [\n                            {\n                                id: classroom.teacherId,\n                                displayName: \"Teacher\"\n                            },\n                            ...Array.from(classroom.students.entries()).map(([id, data])=>({\n                                    id,\n                                    displayName: data.displayName\n                                }))\n                        ];\n                        console.log(\"Updated classroom state after student leaves:\", {\n                            classCode,\n                            totalStudents: allStudents.length,\n                            students: allStudents\n                        });\n                        try {\n                            // Send student-left event to all clients\n                            await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"student-left\", {\n                                students: allStudents\n                            });\n                            console.log(\"Student left event sent successfully\");\n                            // Send teacher-update event to ensure teacher has latest student list\n                            await _lib_pusher__WEBPACK_IMPORTED_MODULE_1__.pusherServer.trigger(`classroom-${classCode}`, \"teacher-update\", {\n                                studentId,\n                                displayName: \"Teacher\",\n                                students: allStudents\n                            });\n                            console.log(\"Teacher update event sent successfully\");\n                        } catch (error) {\n                            console.error(\"Error triggering Pusher events:\", error);\n                            throw error;\n                        }\n                        // Clean up empty classrooms\n                        if (classroom.students.size === 0 && classroom.teacherId === studentId) {\n                            classrooms.delete(classCode);\n                            console.log(`Classroom ${classCode} deleted`);\n                        }\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true\n                    });\n                }\n            default:\n                console.log(\"Invalid event type:\", type);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid event type\"\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error(\"Pusher API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dDQUNyRUM7Z0NBQ0FpQixhQUFhO2dDQUNiSixVQUFVaUI7NEJBQ1o7NEJBQ0EzQixRQUFRQyxHQUFHLENBQUM7d0JBQ2QsRUFBRSxPQUFPRyxPQUFPOzRCQUNkSixRQUFRSSxLQUFLLENBQUMsbUNBQW1DQTs0QkFDakQsTUFBTUE7d0JBQ1I7d0JBRUEsNEJBQTRCO3dCQUM1QixJQUFJYyxVQUFVUixRQUFRLENBQUNrQyxJQUFJLEtBQUssS0FBSzFCLFVBQVVYLFNBQVMsS0FBS1YsV0FBVzs0QkFDdEVkLFdBQVcyRCxNQUFNLENBQUM5Qzs0QkFDbEJJLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRUwsVUFBVSxRQUFRLENBQUM7d0JBQzlDO29CQUNGO29CQUVBLE9BQU9mLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7d0JBQUV5QyxTQUFTO29CQUFLO2dCQUMzQztZQUVBO2dCQUNFbkMsUUFBUUMsR0FBRyxDQUFDLHVCQUF1Qk47Z0JBQ25DLE9BQU9kLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7b0JBQUVVLE9BQU87Z0JBQXFCLEdBQUc7b0JBQUVDLFFBQVE7Z0JBQUk7UUFDNUU7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBT3ZCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFBRVUsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsbGVyeWJvYXJkLy4vYXBwL2FwaS9wdXNoZXIvcm91dGUudHM/MzQ2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwdXNoZXJTZXJ2ZXIgfSBmcm9tICdAL2xpYi9wdXNoZXInO1xuXG5jb25zdCBjbGFzc3Jvb21zID0gbmV3IE1hcDxzdHJpbmcsIHtcbiAgdGVhY2hlcklkOiBzdHJpbmc7XG4gIHN0dWRlbnRzOiBNYXA8c3RyaW5nLCB7IGRpc3BsYXlOYW1lOiBzdHJpbmcgfT47XG59PigpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUNsYXNzQ29kZSgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KS50b1VwcGVyQ2FzZSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgdHlwZSwgY2xhc3NDb2RlLCBzdHVkZW50SWQsIGRyYXdEYXRhLCBjYW52YXNTdGF0ZSB9ID0gYm9keTtcblxuICAgIGNvbnNvbGUubG9nKCdQdXNoZXIgQVBJIHJlcXVlc3QgcmVjZWl2ZWQnKTtcbiAgICBjb25zb2xlLmxvZygnRXZlbnQgdHlwZTonLCB0eXBlKTtcbiAgICBjb25zb2xlLmxvZygnRGF0YTonLCBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSk7XG5cbiAgICBpZiAodHlwZSAhPT0gJ2NyZWF0ZS1jbGFzc3Jvb20nICYmICFjbGFzc0NvZGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ2xhc3MgY29kZSBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICBjbGFzc0NvZGUsXG4gICAgICBzdHVkZW50SWQsXG4gICAgICBkcmF3RGF0YSxcbiAgICAgIGNhbnZhc1N0YXRlXG4gICAgfTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnY3JlYXRlLWNsYXNzcm9vbSc6IHtcbiAgICAgICAgY29uc3QgeyB0ZWFjaGVySWQgfSA9IGJvZHk7XG4gICAgICAgIGxldCBjbGFzc0NvZGU6IHN0cmluZztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGNsYXNzQ29kZSA9IGdlbmVyYXRlQ2xhc3NDb2RlKCk7XG4gICAgICAgIH0gd2hpbGUgKGNsYXNzcm9vbXMuaGFzKGNsYXNzQ29kZSkpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgY2xhc3Nyb29tIHdpdGggdGVhY2hlclxuICAgICAgICBjbGFzc3Jvb21zLnNldChjbGFzc0NvZGUsIHtcbiAgICAgICAgICB0ZWFjaGVySWQsXG4gICAgICAgICAgc3R1ZGVudHM6IG5ldyBNYXAoKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgY2xhc3Nyb29tICR7Y2xhc3NDb2RlfSBmb3IgdGVhY2hlciAke3RlYWNoZXJJZH1gKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFNlbmQgY2xhc3Nyb29tIGNyZWF0ZWQgZXZlbnRcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICdjbGFzc3Jvb20tY3JlYXRlZCcsIHtcbiAgICAgICAgICAgIGNsYXNzQ29kZSxcbiAgICAgICAgICAgIHRlYWNoZXJJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGFzc3Jvb20gY3JlYXRlZCBldmVudCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuXG4gICAgICAgICAgLy8gU2VuZCBpbml0aWFsIHRlYWNoZXItdXBkYXRlIGV2ZW50IHdpdGgganVzdCB0aGUgdGVhY2hlclxuICAgICAgICAgIGNvbnN0IGluaXRpYWxTdHVkZW50cyA9IFt7XG4gICAgICAgICAgICBpZDogdGVhY2hlcklkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJ1xuICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgLy8gU2VuZCBzdHVkZW50LWpvaW5lZCBldmVudCB0byBlbnN1cmUgYWxsIGNsaWVudHMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAgIGF3YWl0IHB1c2hlclNlcnZlci50cmlnZ2VyKGBjbGFzc3Jvb20tJHtjbGFzc0NvZGV9YCwgJ3N0dWRlbnQtam9pbmVkJywge1xuICAgICAgICAgICAgc3R1ZGVudElkOiB0ZWFjaGVySWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1RlYWNoZXInLFxuICAgICAgICAgICAgc3R1ZGVudHM6IGluaXRpYWxTdHVkZW50c1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsIHN0dWRlbnQtam9pbmVkIGV2ZW50IHNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgICAgICAvLyBTZW5kIHRlYWNoZXItdXBkYXRlIGV2ZW50XG4gICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAndGVhY2hlci11cGRhdGUnLCB7XG4gICAgICAgICAgICBzdHVkZW50SWQ6IHRlYWNoZXJJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVGVhY2hlcicsXG4gICAgICAgICAgICBzdHVkZW50czogaW5pdGlhbFN0dWRlbnRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWwgdGVhY2hlciB1cGRhdGUgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcblxuICAgICAgICAgIC8vIExvZyB0aGUgZXZlbnRzIHRoYXQgd2VyZSBzZW50XG4gICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50cyBzZW50OicsIHtcbiAgICAgICAgICAgIGNsYXNzcm9vbUNyZWF0ZWQ6IHsgY2xhc3NDb2RlLCB0ZWFjaGVySWQgfSxcbiAgICAgICAgICAgIHN0dWRlbnRKb2luZWQ6IHsgc3R1ZGVudElkOiB0ZWFjaGVySWQsIGRpc3BsYXlOYW1lOiAnVGVhY2hlcicsIHN0dWRlbnRzOiBpbml0aWFsU3R1ZGVudHMgfSxcbiAgICAgICAgICAgIHRlYWNoZXJVcGRhdGU6IHsgc3R1ZGVudElkOiB0ZWFjaGVySWQsIGRpc3BsYXlOYW1lOiAnVGVhY2hlcicsIHN0dWRlbnRzOiBpbml0aWFsU3R1ZGVudHMgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRyaWdnZXJpbmcgUHVzaGVyIGV2ZW50czonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgICBjbGFzc0NvZGUsXG4gICAgICAgICAgc3R1ZGVudHM6IFt7XG4gICAgICAgICAgICBpZDogdGVhY2hlcklkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdqb2luLWNsYXNzcm9vbSc6IHtcbiAgICAgICAgY29uc3QgeyBkaXNwbGF5TmFtZSB9ID0gYm9keTtcbiAgICAgICAgY29uc3QgY2xhc3Nyb29tID0gY2xhc3Nyb29tcy5nZXQoY2xhc3NDb2RlKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBqb2luLWNsYXNzcm9vbSByZXF1ZXN0OicsIHtcbiAgICAgICAgICBjbGFzc0NvZGUsXG4gICAgICAgICAgc3R1ZGVudElkLFxuICAgICAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgICAgIGNsYXNzcm9vbUV4aXN0czogISFjbGFzc3Jvb20sXG4gICAgICAgICAgY3VycmVudFN0dWRlbnRzOiBjbGFzc3Jvb20gPyBBcnJheS5mcm9tKGNsYXNzcm9vbS5zdHVkZW50cy5lbnRyaWVzKCkpLm1hcCgoW2lkLCBkYXRhXSkgPT4gKHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWVcbiAgICAgICAgICB9KSkgOiBbXVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWNsYXNzcm9vbSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGFzc3Jvb20gJHtjbGFzc0NvZGV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ2xhc3Nyb29tIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHN0dWRlbnQgaXMgYWxyZWFkeSBpbiB0aGUgY2xhc3Nyb29tLCB1cGRhdGUgdGhlaXIgZGlzcGxheSBuYW1lIGFuZCBzZW5kIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgaWYgKGNsYXNzcm9vbS5zdHVkZW50cy5oYXMoc3R1ZGVudElkKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTdHVkZW50ICR7c3R1ZGVudElkfSByZWNvbm5lY3RpbmcgdG8gY2xhc3Nyb29tICR7Y2xhc3NDb2RlfWApO1xuICAgICAgICAgIGNsYXNzcm9vbS5zdHVkZW50cy5zZXQoc3R1ZGVudElkLCB7IGRpc3BsYXlOYW1lIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBuZXcgc3R1ZGVudCB0byBjbGFzc3Jvb21cbiAgICAgICAgICBjbGFzc3Jvb20uc3R1ZGVudHMuc2V0KHN0dWRlbnRJZCwgeyBkaXNwbGF5TmFtZSB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3R1ZGVudCAke3N0dWRlbnRJZH0gKCR7ZGlzcGxheU5hbWV9KSBqb2luaW5nIGNsYXNzcm9vbSAke2NsYXNzQ29kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgc3R1ZGVudHMgbGlzdFxuICAgICAgICBjb25zdCBhbGxTdHVkZW50cyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogY2xhc3Nyb29tLnRlYWNoZXJJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVGVhY2hlcidcbiAgICAgICAgICB9LFxuICAgICAgICAgIC4uLkFycmF5LmZyb20oY2xhc3Nyb29tLnN0dWRlbnRzLmVudHJpZXMoKSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogZGF0YS5kaXNwbGF5TmFtZVxuICAgICAgICAgIH0pKVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHN0dWRlbnRzIGluIGNsYXNzcm9vbSAke2NsYXNzQ29kZX06YCwgYWxsU3R1ZGVudHMpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gU2VuZCBzdHVkZW50LWpvaW5lZCBldmVudCB0byBhbGwgY2xpZW50c1xuICAgICAgICAgIGNvbnN0IHN0dWRlbnRKb2luZWRFdmVudCA9IHtcbiAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgc3R1ZGVudHM6IGFsbFN0dWRlbnRzXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2VuZGluZyBzdHVkZW50LWpvaW5lZCBldmVudDonLCBzdHVkZW50Sm9pbmVkRXZlbnQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHB1c2hlclNlcnZlci50cmlnZ2VyKGBjbGFzc3Jvb20tJHtjbGFzc0NvZGV9YCwgJ3N0dWRlbnQtam9pbmVkJywgc3R1ZGVudEpvaW5lZEV2ZW50KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3R1ZGVudCBqb2luZWQgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZW5kIHRlYWNoZXItdXBkYXRlIGV2ZW50IHRvIGVuc3VyZSB0ZWFjaGVyIGhhcyBsYXRlc3Qgc3R1ZGVudCBsaXN0XG4gICAgICAgICAgY29uc3QgdGVhY2hlclVwZGF0ZUV2ZW50ID0ge1xuICAgICAgICAgICAgc3R1ZGVudElkOiBjbGFzc3Jvb20udGVhY2hlcklkLCAvLyBVc2UgdGVhY2hlcidzIElEIGZvciB0ZWFjaGVyLXVwZGF0ZSBldmVudFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJyxcbiAgICAgICAgICAgIHN0dWRlbnRzOiBhbGxTdHVkZW50c1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgdGVhY2hlci11cGRhdGUgZXZlbnQ6JywgdGVhY2hlclVwZGF0ZUV2ZW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICd0ZWFjaGVyLXVwZGF0ZScsIHRlYWNoZXJVcGRhdGVFdmVudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1RlYWNoZXIgdXBkYXRlIGV2ZW50IHNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgICAgICAvLyBMb2cgdGhlIGV2ZW50cyB0aGF0IHdlcmUgc2VudFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudHMgc2VudDonLCB7XG4gICAgICAgICAgICBzdHVkZW50Sm9pbmVkOiBzdHVkZW50Sm9pbmVkRXZlbnQsXG4gICAgICAgICAgICB0ZWFjaGVyVXBkYXRlOiB0ZWFjaGVyVXBkYXRlRXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudHM6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbW9yZSBkZXRhaWxzIGFib3V0IHRoZSBlcnJvclxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRG9uJ3QgdGhyb3cgdGhlIGVycm9yLCBqdXN0IHJldHVybiBpdCBpbiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgZXZlbnRzJywgXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyBcbiAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBzdHVkZW50czogYWxsU3R1ZGVudHMgLy8gSW5jbHVkZSB0aGUgY3VycmVudCBzdHVkZW50IGxpc3QgaW4gdGhlIHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdkcmF3LXVwZGF0ZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdEcmF3IHVwZGF0ZSBmcm9tIHN0dWRlbnQnLCBzdHVkZW50SWQsICdpbiBjbGFzc3Jvb20nLCBjbGFzc0NvZGUsIFxuICAgICAgICAgICdkcmF3RGF0YTonLCBkcmF3RGF0YSA/IEpTT04uc3RyaW5naWZ5KGRyYXdEYXRhKSA6ICdudWxsJyxcbiAgICAgICAgICAnY2FudmFzU3RhdGU6JywgY2FudmFzU3RhdGUgPyBgJHtNYXRoLnJvdW5kKGNhbnZhc1N0YXRlLmxlbmd0aC8xMDI0KX1LQmAgOiAnbnVsbCdcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHdlJ3JlIHNlbmRpbmcgdGhlIGNvcnJlY3QgZXZlbnQgZGF0YVxuICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgIGRyYXdEYXRhLFxuICAgICAgICAgICAgY2FudmFzU3RhdGVcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIHBheWxvYWQgc2l6ZSB0byBhdm9pZCA0MTMgZXJyb3JzXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KGV2ZW50RGF0YSk7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZFNpemUgPSBCdWZmZXIuYnl0ZUxlbmd0aChwYXlsb2FkLCAndXRmOCcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBQYXlsb2FkIHNpemU6ICR7TWF0aC5yb3VuZChwYXlsb2FkU2l6ZS8xMDI0KX1LQiwgUGF5bG9hZDpgLCBwYXlsb2FkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocGF5bG9hZFNpemUgPiA5MDAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGF5bG9hZCB0b28gbGFyZ2UsIHNlbmRpbmcgd2l0aG91dCBjYW52YXMgc3RhdGUnKTtcbiAgICAgICAgICAgIC8vIFNlbmQgd2l0aG91dCBjYW52YXMgc3RhdGUgdG8gcmVkdWNlIHNpemVcbiAgICAgICAgICAgIGF3YWl0IHB1c2hlclNlcnZlci50cmlnZ2VyKGBjbGFzc3Jvb20tJHtjbGFzc0NvZGV9YCwgJ2RyYXctdXBkYXRlJywge1xuICAgICAgICAgICAgICBzdHVkZW50SWQsXG4gICAgICAgICAgICAgIGRyYXdEYXRhLFxuICAgICAgICAgICAgICBjYW52YXNTdGF0ZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlbmQgdG8gYWxsIGNsaWVudHMgaW4gdGhlIGNsYXNzcm9vbVxuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAnZHJhdy11cGRhdGUnLCBldmVudERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnRHJhdyB1cGRhdGUgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHkgdG8gYWxsIGNsaWVudHMnKTtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZHJhdyB1cGRhdGU6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc2VuZCBkcmF3IHVwZGF0ZScsIFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgXG4gICAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdyZXF1ZXN0LWNhbnZhcy1zdGF0ZSc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYW52YXMgc3RhdGUgcmVxdWVzdGVkIGJ5IHRlYWNoZXInLCBzdHVkZW50SWQsICdpbiBjbGFzc3Jvb20nLCBjbGFzc0NvZGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEJyb2FkY2FzdCB0byBhbGwgc3R1ZGVudHMgdG8gc2VuZCB0aGVpciBjYW52YXMgc3RhdGVcbiAgICAgICAgICBhd2FpdCBwdXNoZXJTZXJ2ZXIudHJpZ2dlcihgY2xhc3Nyb29tLSR7Y2xhc3NDb2RlfWAsICdyZXF1ZXN0LWNhbnZhcy1zdGF0ZScsIHtcbiAgICAgICAgICAgIHRlYWNoZXJJZDogc3R1ZGVudElkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0NhbnZhcyBzdGF0ZSByZXF1ZXN0IGJyb2FkY2FzdCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVxdWVzdGluZyBjYW52YXMgc3RhdGU6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gcmVxdWVzdCBjYW52YXMgc3RhdGUnLCBcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnbGVhdmUtY2xhc3Nyb29tJzoge1xuICAgICAgICBjb25zdCBjbGFzc3Jvb20gPSBjbGFzc3Jvb21zLmdldChjbGFzc0NvZGUpO1xuXG4gICAgICAgIGlmIChjbGFzc3Jvb20pIHtcbiAgICAgICAgICAvLyBMb2cgdGhlIGN1cnJlbnQgc3RhdGUgYmVmb3JlIHJlbW92aW5nIHRoZSBzdHVkZW50XG4gICAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgY2xhc3Nyb29tIHN0YXRlIGJlZm9yZSBzdHVkZW50IGxlYXZlczonLCB7XG4gICAgICAgICAgICBjbGFzc0NvZGUsXG4gICAgICAgICAgICBzdHVkZW50SWQsXG4gICAgICAgICAgICB0ZWFjaGVySWQ6IGNsYXNzcm9vbS50ZWFjaGVySWQsXG4gICAgICAgICAgICBjdXJyZW50U3R1ZGVudHM6IEFycmF5LmZyb20oY2xhc3Nyb29tLnN0dWRlbnRzLmVudHJpZXMoKSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWVcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdHVkZW50IGZyb20gdGhlIGNsYXNzcm9vbVxuICAgICAgICAgIGNsYXNzcm9vbS5zdHVkZW50cy5kZWxldGUoc3R1ZGVudElkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3R1ZGVudCAke3N0dWRlbnRJZH0gbGVhdmluZyBjbGFzc3Jvb20gJHtjbGFzc0NvZGV9YCk7XG5cbiAgICAgICAgICAvLyBHZXQgYWxsIHN0dWRlbnRzIGluY2x1ZGluZyB0aGUgdGVhY2hlclxuICAgICAgICAgIGNvbnN0IGFsbFN0dWRlbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogY2xhc3Nyb29tLnRlYWNoZXJJZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLkFycmF5LmZyb20oY2xhc3Nyb29tLnN0dWRlbnRzLmVudHJpZXMoKSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRhdGEuZGlzcGxheU5hbWVcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBjbGFzc3Jvb20gc3RhdGUgYWZ0ZXIgc3R1ZGVudCBsZWF2ZXM6Jywge1xuICAgICAgICAgICAgY2xhc3NDb2RlLFxuICAgICAgICAgICAgdG90YWxTdHVkZW50czogYWxsU3R1ZGVudHMubGVuZ3RoLFxuICAgICAgICAgICAgc3R1ZGVudHM6IGFsbFN0dWRlbnRzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU2VuZCBzdHVkZW50LWxlZnQgZXZlbnQgdG8gYWxsIGNsaWVudHNcbiAgICAgICAgICAgIGF3YWl0IHB1c2hlclNlcnZlci50cmlnZ2VyKGBjbGFzc3Jvb20tJHtjbGFzc0NvZGV9YCwgJ3N0dWRlbnQtbGVmdCcsIHtcbiAgICAgICAgICAgICAgc3R1ZGVudHM6IGFsbFN0dWRlbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHVkZW50IGxlZnQgZXZlbnQgc2VudCBzdWNjZXNzZnVsbHknKTtcblxuICAgICAgICAgICAgLy8gU2VuZCB0ZWFjaGVyLXVwZGF0ZSBldmVudCB0byBlbnN1cmUgdGVhY2hlciBoYXMgbGF0ZXN0IHN0dWRlbnQgbGlzdFxuICAgICAgICAgICAgYXdhaXQgcHVzaGVyU2VydmVyLnRyaWdnZXIoYGNsYXNzcm9vbS0ke2NsYXNzQ29kZX1gLCAndGVhY2hlci11cGRhdGUnLCB7XG4gICAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUZWFjaGVyJyxcbiAgICAgICAgICAgICAgc3R1ZGVudHM6IGFsbFN0dWRlbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZWFjaGVyIHVwZGF0ZSBldmVudCBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cmlnZ2VyaW5nIFB1c2hlciBldmVudHM6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2xlYW4gdXAgZW1wdHkgY2xhc3Nyb29tc1xuICAgICAgICAgIGlmIChjbGFzc3Jvb20uc3R1ZGVudHMuc2l6ZSA9PT0gMCAmJiBjbGFzc3Jvb20udGVhY2hlcklkID09PSBzdHVkZW50SWQpIHtcbiAgICAgICAgICAgIGNsYXNzcm9vbXMuZGVsZXRlKGNsYXNzQ29kZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xhc3Nyb29tICR7Y2xhc3NDb2RlfSBkZWxldGVkYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgZXZlbnQgdHlwZTonLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGV2ZW50IHR5cGUnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1B1c2hlciBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwdXNoZXJTZXJ2ZXIiLCJjbGFzc3Jvb21zIiwiTWFwIiwiZ2VuZXJhdGVDbGFzc0NvZGUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJ0eXBlIiwiY2xhc3NDb2RlIiwic3R1ZGVudElkIiwiZHJhd0RhdGEiLCJjYW52YXNTdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJzdGF0dXMiLCJldmVudERhdGEiLCJ0ZWFjaGVySWQiLCJoYXMiLCJzZXQiLCJzdHVkZW50cyIsInRyaWdnZXIiLCJpbml0aWFsU3R1ZGVudHMiLCJpZCIsImRpc3BsYXlOYW1lIiwiY2xhc3Nyb29tQ3JlYXRlZCIsInN0dWRlbnRKb2luZWQiLCJ0ZWFjaGVyVXBkYXRlIiwiY2xhc3Nyb29tIiwiZ2V0IiwiY2xhc3Nyb29tRXhpc3RzIiwiY3VycmVudFN0dWRlbnRzIiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsIm1hcCIsImRhdGEiLCJhbGxTdHVkZW50cyIsInN0dWRlbnRKb2luZWRFdmVudCIsInRlYWNoZXJVcGRhdGVFdmVudCIsIkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwibmFtZSIsImRldGFpbHMiLCJzdWNjZXNzIiwicm91bmQiLCJsZW5ndGgiLCJwYXlsb2FkIiwicGF5bG9hZFNpemUiLCJCdWZmZXIiLCJieXRlTGVuZ3RoIiwiZGVsZXRlIiwidG90YWxTdHVkZW50cyIsInNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pusher/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/pusher.ts":
/*!***********************!*\
  !*** ./lib/pusher.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pusherClient: () => (/* binding */ pusherClient),\n/* harmony export */   pusherServer: () => (/* binding */ pusherServer)\n/* harmony export */ });\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pusher */ \"(rsc)/./node_modules/pusher/lib/pusher.js\");\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pusher__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pusher-js */ \"(rsc)/./node_modules/pusher-js/dist/node/pusher.js\");\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pusher_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst pusherServer = new (pusher__WEBPACK_IMPORTED_MODULE_0___default())({\n    appId: \"1962551\",\n    key: \"0a97d4aa577b7a7831d5\",\n    secret: process.env.PUSHER_SECRET,\n    cluster: \"us2\",\n    useTLS: true\n});\n// Enable Pusher logging for debugging\nif (false) {}\nconst pusherClient = new (pusher_js__WEBPACK_IMPORTED_MODULE_1___default())(\"0a97d4aa577b7a7831d5\", {\n    cluster: \"us2\",\n    forceTLS: true,\n    enabledTransports: [\n        \"ws\",\n        \"wss\"\n    ],\n    authEndpoint: \"/api/pusher/auth\",\n    auth: {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHVzaGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQztBQUNHO0FBRTlCLE1BQU1FLGVBQWUsSUFBSUYsK0NBQVlBLENBQUM7SUFDM0NHLE9BQU9DLFNBQXFDO0lBQzVDRyxLQUFLSCxzQkFBa0M7SUFDdkNLLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ0ssYUFBYTtJQUNqQ0MsU0FBU1AsS0FBc0M7SUFDL0NTLFFBQVE7QUFDVixHQUFHO0FBRUgsc0NBQXNDO0FBQ3RDLElBQUksS0FBa0IsRUFBYSxFQUVsQztBQUVNLE1BQU1FLGVBQWUsSUFBSWQsa0RBQVlBLENBQzFDRyxzQkFBa0MsRUFDbEM7SUFDRU8sU0FBU1AsS0FBc0M7SUFDL0NZLFVBQVU7SUFDVkMsbUJBQW1CO1FBQUM7UUFBTTtLQUFNO0lBQ2hDQyxjQUFjO0lBQ2RDLE1BQU07UUFDSkMsU0FBUztZQUNQLGdCQUFnQjtRQUNsQjtJQUNGO0FBQ0YsR0FDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbGxlcnlib2FyZC8uL2xpYi9wdXNoZXIudHM/OTAzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHVzaGVyU2VydmVyIGZyb20gJ3B1c2hlcic7XG5pbXBvcnQgUHVzaGVyQ2xpZW50IGZyb20gJ3B1c2hlci1qcyc7XG5cbmV4cG9ydCBjb25zdCBwdXNoZXJTZXJ2ZXIgPSBuZXcgUHVzaGVyU2VydmVyKHtcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9BUFBfSUQhLFxuICBrZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVU0hFUl9LRVkhLFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52LlBVU0hFUl9TRUNSRVQhLFxuICBjbHVzdGVyOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVVNIRVJfQ0xVU1RFUiEsXG4gIHVzZVRMUzogdHJ1ZSxcbn0pO1xuXG4vLyBFbmFibGUgUHVzaGVyIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIFB1c2hlckNsaWVudC5sb2dUb0NvbnNvbGUgPSB0cnVlO1xufVxuXG5leHBvcnQgY29uc3QgcHVzaGVyQ2xpZW50ID0gbmV3IFB1c2hlckNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0tFWSEsXG4gIHtcbiAgICBjbHVzdGVyOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVVNIRVJfQ0xVU1RFUiEsXG4gICAgZm9yY2VUTFM6IHRydWUsXG4gICAgZW5hYmxlZFRyYW5zcG9ydHM6IFsnd3MnLCAnd3NzJ10sXG4gICAgYXV0aEVuZHBvaW50OiAnL2FwaS9wdXNoZXIvYXV0aCcsXG4gICAgYXV0aDoge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbik7ICJdLCJuYW1lcyI6WyJQdXNoZXJTZXJ2ZXIiLCJQdXNoZXJDbGllbnQiLCJwdXNoZXJTZXJ2ZXIiLCJhcHBJZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QVVNIRVJfQVBQX0lEIiwia2V5IiwiTkVYVF9QVUJMSUNfUFVTSEVSX0tFWSIsInNlY3JldCIsIlBVU0hFUl9TRUNSRVQiLCJjbHVzdGVyIiwiTkVYVF9QVUJMSUNfUFVTSEVSX0NMVVNURVIiLCJ1c2VUTFMiLCJsb2dUb0NvbnNvbGUiLCJwdXNoZXJDbGllbnQiLCJmb3JjZVRMUyIsImVuYWJsZWRUcmFuc3BvcnRzIiwiYXV0aEVuZHBvaW50IiwiYXV0aCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/pusher.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/pusher-js","vendor-chunks/tr46","vendor-chunks/tweetnacl","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/pusher","vendor-chunks/event-target-shim","vendor-chunks/webidl-conversions","vendor-chunks/abort-controller","vendor-chunks/tweetnacl-util","vendor-chunks/is-base64"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpusher%2Froute&page=%2Fapi%2Fpusher%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpusher%2Froute.ts&appDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falexlautin%2FDocuments%2FGitHub%2Femoryhacks25&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();